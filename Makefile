TARGET = peanut135
OBJDIR = obj/
CFLAGS += -Werror

all: $(TARGET)


$(TARGET): $(OBJDIR)main.o $(OBJDIR)rom.o $(OBJDIR)ram.o $(OBJDIR)util.o
	$(CC) $(CFLAGS) $^ -o $@ $(LDFLAGS)
	$(info    #############################################################################)
	$(info    $(CC))
	$(info    -----------------------------------------------------------------------------)
	$(info    $(CFLAGS))
	$(info    -----------------------------------------------------------------------------)
	$(info    $^) 
	$(info    -----------------------------------------------------------------------------)
	$(info    -o $@) 
	$(info    -----------------------------------------------------------------------------)
	$(info    $(LDFLAGS))
	$(info    #############################################################################)
	
$(OBJDIR)%.o: %.c
	mkdir -p $(OBJDIR)
	$(CC) $(CFLAGS) -c $^ -o $@ $(LDFLAGS) -Werror 

clean:
	rm -f $(TARGET)
	rm -rdf $(OBJDIR)

.PHONY: all clean
